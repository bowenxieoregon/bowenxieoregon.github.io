{{/* Custom footer extensions */}}

<script>
// Copy code button functionality
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('.copy-btn').forEach(function(btn) {
    btn.addEventListener('click', function() {
      const codeBlock = this.closest('.code-block');
      const rawCode = codeBlock.querySelector('.code-raw');
      
      let code;
      if (rawCode) {
        code = rawCode.textContent;
      } else {
        // Fallback: get code from the highlight pre
        const pre = codeBlock.querySelector('.code-body pre code');
        code = pre ? pre.textContent : '';
      }
      
      navigator.clipboard.writeText(code).then(() => {
        // Show success state
        btn.classList.add('copied');
        
        // Reset after 2 seconds
        setTimeout(() => {
          btn.classList.remove('copied');
        }, 2000);
      }).catch(err => {
        console.error('Failed to copy:', err);
      });
    });
  });
});
</script>
